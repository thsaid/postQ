---
Title: "SALES Questions"
author: "Tamer Said"
date: "04/08/2020"
output: html_document
---

#Intro to SALES survey

Q7-Q14	SE (8 questions)
Q15-Q22	TV (8 questions)
Q23-Q32	MG (9 questions)
Notes: Questions 26 and 31 are repeated
Questions 24 and 29 are repeated
There is a missing question: It is important to me that I improve my
science skills.

Loading Libraries

```{r}
install.packages("xlsx")
install.packages("foreign")
install.packages("psych")
install.packages("Hmisc")
install.packages("Scale")
```
Loading #libraries 


```{r}
library(tidyverse) # For data wrangling
library(ggplot2) # for graphing / figures - mostly histograms/ppplots here
library(pastecs) # Needed to run normality tests
library(car) # Needed to run Levene test
library(lsr) # Navarro package for running psychology tests
library(psych) # for key psychology stats
library(effects) # Effects package, needed for the estimated means, includes lower/upper 95% conf limits
library(ggpubr)
options(scipen=99) # This is to indicate how many digits after the decimal, this one is for 2 digits, but can be changed
```
```

I created the variable postQ to save it as a variable (data frame) or tibble.
```{r}
postQ <-read.csv("Post Questionnaire.csv")
```

I have to load tidyverse package first
```{r}
library(tidyverse)

```

To select the coloumns I am interested in, I want to select the variables that have the SALES questions only (from Q7 to Q32)

```{r}
SALES <- select(postQ,Q1:Q4, Q7:Q32)
```
To delete the row no. 2 inserted by qualitrics by mistake ( the 2 indicate the row number)

```{r}
SALES <- SALES[-2, ] 
SALES <- SALES[-1, ] 

```

I am going to rename the variables instead of having question names

```{r}
SALES <- rename(SALES, ID = Q1, Picture= Q2, Color= Q3, Gender= Q4)
```

#Scoring of the SALES Questions

I will use a new code using scale package to see how I could analyze my likert items
```{r}
SALES_pr <- PreProc(SALES) # to pre-process my data
```

Will have to calculate scores into ways: first one is the long format to do my analysis on the questions, then will do a manual modification in excel to change the words into numbers while 


```{r}
scoring <- read.csv("scoring.csv")
```


```{r}
SALES_long <- pivot_longer(data = SALES,cols =Q7:Q32,names_to = "Question",values_to = "Response"  )

```
Renaming variables in SALES_long

```{r}
SALES_long <- rename(SALES_long, ID= Q1, Picture= Q2, Color= Q3, Gender= Q4)
```

Joining the tables together to calculate the scores

```{r}
SALES_joined <- inner_join (x = SALES_long,y= scoring, by = "Response")
```


Finding score of each participant
 
```{r}
SALES_scores <- SALES_joined %>% 
             group_by(ID) %>% 
             summarise (SS = sum(Score))
```
I would like to check the structure of my variables

```{r}
str(SALES_joined)

```

To check for missing values
```{r}
is.na(SALES_joined)
```
```{r}
summary(SALES_joined)
```
Renaming the variables in SALES Scores

```{r}
SALES_scores <- rename(SALES_scores, ID= Q1)
```

```{r}
write.csv(SALES_scores, "SALES.scores.csv")
```

I now need to group students' responses by question to do my analysis.
```{r}

SALES_Q <- SALES_joined %>% 
  group_by(Question)

```
CHECKING the stats of the questions
```{r}
describeBy(SALES_Q, group = "Question")

```

